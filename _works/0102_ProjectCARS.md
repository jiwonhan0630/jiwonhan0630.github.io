---
layout: basic
title: "Project CARS"
description: "실시간 산업 데이터 기반 게이미피케이션"
image: /images/pic01.jpg
---

### 플랫폼
- PC (Windows)
- 모바일 (Android, iOS)

### 장르
- 실시간 산업 데이터 기반 게이미피케이션

### 개발 환경
- Unity Engine / MariaDB
- Java Script / TMaxTiberoDB

## 담당 업무

### 실시간 산업 데이터 기반 게이미피케이션 로직
- 작업 연동 시스템: 실제 공장 작업자의 조립 데이터를 실시간으로 수신하여 게임 내 스테이지 및 보상 체계와 연동하는 시스템 구현
- 자동화된 플레이: 사용자의 조작 없이 차량의 부품 장착 및 주행을 제어하는 플레이 시스템 구현

### 차량 AI 및 주행 시스템
- 차량 AI: 보상 상자 획득을 위해 행동하는 자율 주행 AI와 동적인 장애물 회피 기능 구현
- 경로 제어 시스템 구현: 스테이지 연출력과 자율 주행의 유연성 확보를 위해 사전에 정의된 경로 주행과 동적인 경로 탐색을 통한 주행을 구현하여 상황에 따라 적용
- 자율 주행 경로 적용: Unity Navigation 시스템의 베이크된 정점 데이터를 사용하여 안정적인 자율 주행 경로 적용

### 런타임 파츠 교체 시스템
주행 중 실시간으로 차량의 부품을 장착/변경하고, 주행 성능이 즉각 반영되는 구조 설계

### 커스텀 에디터
- 경로 에디터: 사전에 정의된 경로를 제작하는 에디터 확장 기능 구현
- 파츠 비주얼 에디터: UIToolkit을 사용하여 부품의 장착 위치와 외형을 에디터에서 즉시 설정하고 미리 볼 수 있는 툴 구현
- 레벨 베이킹 툴: 레벨 디자인 후 필요한 데이터를 자동 추출하여 정적 데이터화하는 베이킹 툴 구현

### 전용 런처 개발
클라이언트의 자동 업데이트와 재실행, 버전 관리 기능이 포함된 전용 런처 구현


## Stuck
{: .title-stuck }

스테이지의 규격이 정해지지 않았을 때, 메쉬 정보를 통해 이동 경로를 도출하는 AI 네비게이션이 정말 딱 맞는다고 생각했다.  
하지만 AI 네비게이션을 사용했을 때, 물리적인 특징을 구현하는 것은 꽤나 쉽지 않았다...  
메쉬를 통한 이동경로의 도출은 꽤나 매력적이었으나, 이를 사용 가능한 스펙으로 구현하는기에는 시간이 부족하다...  


## Strike
{: .title-strike }

AI Navigation의 Baking에 사용되는 함수를 역추적하여, 베이킹 시 생성된 각 폴리곤의 좌표를 얻어왔다. 
하지만 해당 좌표를 통한 최단경로 이동 시(NavMesh의 경로 따라가기 함수 사용) 폴리곤의 꼭짓점 부분을 이용하여 가장자리(코너)를 이동하기 때문에 시각적으로 부자연스러움.  
이를 해결하기 위해 각 삼각형 모서리 중간 지점의 좌표를 사용하여 길의 중앙을 기준으로 주행하도록 구현하였음.  

NavMesh Agent를 사용하지 않아 RVO가 존재하지 않고, WheelCollider를 사용하여 무게 등의 외부 작용이 일어나기 때문에,  
단순한 이동만으로는 목적지에 도달하리라는 보장이 없음.  

그리하여 raycast를 통해 일정 거리 내의 다른 오브젝트를 인식하여 회피, 후진, 정지 등의 처리를 추가하였음...  
박스나 캡슐 모양의 충돌체를 가진 고정 오브젝트를 감지할 경우 각 충돌체의 좌표와 회전값을 바탕으로 우회 경로를 생성하여 현재 속력과의 계산을 통해 예측된 시간 내에 도착하지 못할 경우 재연산을 시도함... 



## 담당 업무
- 근무자의 실시간 작업 데이터를 통한 게임 플레이 구현
- 커스텀 에디터 구현
    - 레벨 제작 및 베이킹
    - 아이템 장착 위치 설정
- 자동차 이동 AI 구현
    - Navigation의 베이크된 정점 데이터를 사용한 이동
    - 미리 정의된 이동 경로를 통한 이동
- 자동차 부품 시스템 구현
    - 주행 중 자동차 부품의 변경 및 작용 구현
    - 자동차 부품에 따른 성능 변동 구현
- 간단한 런처 구현
    - 클라이언트 자동 종료 및 실행, 업데이트 구현
- 3D 사운드 지원을 위한 사운드 기능 구현

## 작업 문서
데이터 동기화 시스템: 실제 공장 작업자의 조립 성과 데이터를 실시간으로 수신하여 게임 내 차량 성장 및 보상 체계와 연동하는 파이프라인 구축.

자동화된 플레이 알고리즘: 사용자의 직접 조작 없이도 작업 데이터를 해석하여 차량의 부품 장착 및 주행을 제어하는 데이터 기반 시뮬레이션 구현.